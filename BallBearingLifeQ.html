<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Ball Bearing Life — Self-Check</title>

  <!-- MathJax for rendering LaTeX math -->
  <script>
    window.MathJax = {
      tex: { inlineMath: [['\\(','\\)'], ['$', '$']] },
      options: { skipHtmlTags: ['script','noscript','style','textarea','pre','code'] }
    };
  </script>
  <script defer src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>

  <style>
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial; margin:0; background:#0b0f14; color:#e6edf3;}
    .wrap{max-width:860px; margin:0 auto; padding:22px 16px 40px;}
    h1{margin:0 0 8px; font-size:1.35rem;}
    p{margin:6px 0 14px; color:#aab4c0; line-height:1.45;}
    .card{background:#121824; border:1px solid #263248; border-radius:12px; padding:14px 14px; margin:12px 0;}
    .mono{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;}
    .data{white-space:pre-wrap; background:#0d1320; border:1px solid #263248; border-radius:10px; padding:10px; color:#d7e3f4;}
    .q{font-weight:650; margin-bottom:10px;}
    .row{display:flex; flex-wrap:wrap; gap:10px; align-items:center;}
    input[type="text"]{
      padding:9px 10px; border-radius:10px; border:1px solid #263248;
      background:#0d1320; color:#e6edf3; width:260px;
      font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;
    }
    button{
      cursor:pointer; border:none; border-radius:10px; padding:9px 12px;
      background:#1f6feb; color:white; font-weight:650;
    }
    .status{
      padding:8px 10px; border-radius:10px; border:1px solid #263248; background:#0d1320;
      font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;
    }
    .ok{border-color:rgba(46,204,113,.55)!important;}
    .bad{border-color:rgba(255,107,107,.55)!important;}
    .pill{display:inline-block; padding:2px 8px; border-radius:999px; border:1px solid #263248; background:#0d1320; color:#c9d1d9; font-size:0.9rem;}
    .grid{display:grid; grid-template-columns:1fr; gap:10px;}
    @media (min-width: 760px){ .grid{grid-template-columns:1fr 1fr;} }
  </style>
</head>
<body>
  <div class="wrap">
    <h1>Ball Bearing Life Tests — Self-Check</h1>
    <p>Enter your answers and click <span class="pill">Check</span>.</p>

    <div class="card">
      <div class="q">Dataset</div>
      <div class="data mono">bear &lt;- c(
  17.88, 28.92, 33.00, 41.52, 42.12, 45.60, 48.80, 51.84, 51.96, 54.12, 55.56,
  67.80, 68.44, 68.64, 68.88, 84.12, 93.12, 98.64, 105.12, 105.84, 127.92, 128.04, 173.40
)</div>
    </div>

    <div class="card">
      <div class="q">1) Estimate \(\lambda\) using the MLE for an exponential model (rate parameterization): \(\hat\lambda = 1/\bar X\).</div>
      <div class="row">
        <input type="text" id="lam" placeholder="lambda_hat" />
        <button onclick="check('lam','lams')">Check</button>
        <span class="status" id="lams">—</span>
      </div>
    </div>

    <div class="card">
      <div class="q">2) Perform a Kolmogorov–Smirnov (KS) test for the exponential distribution model. Report the p-value only.</div>
      <div class="row">
        <input type="text" id="pexp" placeholder="p-value" />
        <button onclick="check('pexp','pexps')">Check</button>
        <span class="status" id="pexps">—</span>
      </div>
    </div>

    <div class="card">
      <div class="q">3) Perform a Kolmogorov–Smirnov (KS) test for the normal distribution model. Report the p-value only.</div>
      <div class="row">
        <input type="text" id="pnorm" placeholder="p-value" />
        <button onclick="check('pnorm','pnorms')">Check</button>
        <span class="status" id="pnorms">—</span>
      </div>
    </div>

    <div class="card">
      <div class="q">4) Construct the 99% one-sample t interval for the population mean. Report the lower and upper endpoints.</div>
      <div class="grid">
        <div class="row">
          <input type="text" id="mL" placeholder="lower" />
          <button onclick="check('mL','mLs')">Check</button>
          <span class="status" id="mLs">—</span>
        </div>
        <div class="row">
          <input type="text" id="mU" placeholder="upper" />
          <button onclick="check('mU','mUs')">Check</button>
          <span class="status" id="mUs">—</span>
        </div>
      </div>
    </div>

    <div class="card">
      <div class="q">5) Construct an exact confidence interval for \(\lambda\) based on the Chi-squared distribution. Report the lower and upper endpoints.</div>
      <div class="grid">
        <div class="row">
          <input type="text" id="ciL" placeholder="lower" />
          <button onclick="check('ciL','ciLs')">Check</button>
          <span class="status" id="ciLs">—</span>
        </div>
        <div class="row">
          <input type="text" id="ciU" placeholder="upper" />
          <button onclick="check('ciU','ciUs')">Check</button>
          <span class="status" id="ciUs">—</span>
        </div>
      </div>
    </div>

    <div class="card">
      <div class="q">6) Construct the 95% bootstrap percentile confidence interval for \(\lambda\) using seed 251 and \(B=5000\). Report the lower and upper endpoints.</div>
      <div class="grid">
        <div class="row">
          <input type="text" id="bL" placeholder="lower" />
          <button onclick="check('bL','bLs')">Check</button>
          <span class="status" id="bLs">—</span>
        </div>
        <div class="row">
          <input type="text" id="bU" placeholder="upper" />
          <button onclick="check('bU','bUs')">Check</button>
          <span class="status" id="bUs">—</span>
        </div>
      </div>
    </div>
  </div>

<script>
  // Hidden hints (not displayed on the page)
  const HINTS = {
    q2: 'ks.test(bear, "pexp", rate = lambda_hat)',
    q3: 'ks.test(bear, "pnorm", mean = mean(bear), sd = sd(bear))',
    q4: 't.test(bear, conf.level = 0.99)$conf.int',
    q5: 'Use chi-square pivot: 2*lambda*sum(bear) ~ chisq(df=2*n)'
  };

  // Hidden answers + checking rules
  const A = {
    lam:  {v: 0.01384475, rel: 0.01, abs: 0},
    pexp: {v: 0.02031,     rel: 0.00, abs: 0.005},
    pnorm:{v: 0.3477,    rel: 0.00, abs: 0.01},
    mL:   {v: 50.200389682766996, rel: 0.01, abs: 0},
    mU:   {v: 94.2587407520156, rel: 0.01, abs: 0},
    ciL:  {v: 0.008776381, rel: 0.01, abs: 0},
    ciU:  {v: 0.020049759, rel: 0.01, abs: 0},
    bL:   {v: 0.01127361,   rel: 0.01, abs: 0},
    bU:   {v: 0.01726631,   rel: 0.01, abs: 0}
  };

  function num(x){
    const s = String(x ?? "").trim().replace(/,/g,"");
    if(!s) return NaN;
    return Number(s);
  }
  function close(user, truth, relTol, absTol){
    if(!isFinite(user)) return false;
    const ae = Math.abs(user - truth);
    const absOK = absTol > 0 ? (ae <= absTol) : false;
    let relOK = false;
    if(relTol > 0){
      const den = Math.abs(truth);
      relOK = den === 0 ? (ae === 0) : (ae/den <= relTol);
    }
    return absOK || relOK;
  }
  function show(el, ok){
    el.classList.remove("ok","bad");
    el.textContent = ok ? "✓ Correct" : "✗ Not quite";
    el.classList.add(ok ? "ok" : "bad");
  }
  function check(id, sid){
    const spec = A[id];
    const val = num(document.getElementById(id).value);
    const ok = close(val, spec.v, spec.rel, spec.abs);
    show(document.getElementById(sid), ok);
  }
</script>
</body>
</html>
